<!DOCTYPE html>
<html>

<head>
    <title>Project 2: Find-a-Game</title>
    <link rel="stylesheet" href="Project2.css">
</head>

<body>
    <h1>Find-a-Game</h1>
    <div class="gameGenre">
        <!-- Here we will put a h2 element with the genre selected -->
    </div>
    <div class="gameList">
        <!-- Here will be the list of games of that genre -->
    </div>

    <div class="bottomCenter">
        <div class="status"></div>
        <button type="button" class="btn json" onclick="videoGameInfo()">See Games</button>
        <button type="button" class="btn json" onclick="actionVideoGameInfo()">Action Games</button>
        <button type="button" class="btn json" onclick="casualVideoGameInfo()">Casual Games</button>
        <button type="button" class="btn json" onclick="fightingVideoGameInfo()">Fighting Games</button>
        <button type="button" class="btn json" onclick="racingVideoGameInfo()">Racing Games</button>
        <button type="button" class="btn json" onclick="RPGVideoGameInfo()">RPG Games</button>
        <button type="button" class="btn json" onclick="sportsVideoGameInfo()">Sports Games</button>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script class="Info">
        function videoGameInfo() {
            $(".gameList").children().remove();
            $(".status").text("Started!");
            $.getJSON('gameInfo.json', function(json) {
                    ProcessInfo(json);
                }).fail(function() {
                    $(".status").text("Error!");
                })
                .always(function() {
                    $(".status").text("Completed!");
                });
        }
        function actionVideoGameInfo() {
            $(".gameList").children().remove();
            $(".status").text("Started!");
            $.getJSON('actionGames.json', function(json) {
                    ProcessInfo(json, "Action Games");
                }).fail(function() {
                    $(".status").text("Error!");
                })
                .always(function() {
                    $(".status").text("Completed!");
                });
        }

        function ProcessInfo(json, genre) {
            $(".gameGenre").html("<h2>" + genre + "<h2>");
            $(".gameList").append("<ul></ul>");
            $.each(json, function(key) {
                var column = ("<p>" + '<img src="' + json[key].image + '" alt="' + key + ' " style="width:100px;height:100px;"><br>' +
                    key +
                    "<br>released: " + json[key].releaseDate +
                    "<br>Published by: " + json[key].publisher +
                    "<br>Review: " + json[key].review +
                    '<br>Link: <a href="' + json[key].link) + '" target="_blank">' + key + '<br><br></p>';
                $(".gameList ul").append(column);
            });
        }
    </script>
</body>

</html>